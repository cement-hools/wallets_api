# wallets_api
Сервис по управлению финансами, функционал следующий: 
- Пользователь хранит данные о своем "кошельке", произвольное название + баланс в рублях. 
- В рамках кошелька ведется история транзакций (как списание, так и пополнение). 
- Кошельков может быть больше чем 1, но сам пользователь один (это его персональный веб сервис).  

#### API сервиса должен позволять: 
1. создавать, редактировать и удалять кошелек. 
2. создавать и удалять транзакции в рамках кошелька (при этом напрямую редактировать баланс кошелька пользователь не может) транзакции могут быть как +, так и -. то есть транзакции по зачислению денег и списанию. у каждой транзакции должна быть дата, сумма, произвольный комментарий от пользователя. 
3. Просматривать список своих кошельков 
4. Просматривать список своих транзакций как в рамках одного кошелька, так и общий, всех кошельков сразу.

### Регистрация пользователя
В задании было для одного пользователя, я решил сделать для нескольких (не сочтите за невнимательность, просто так интереснеее)
- ```localhost/api/reg/``` Регистрация login и password
- ```localhost/api/auth/login/``` Залогиниться


### Сделал два варианта на функциях и на классах
#### 1. Функции
- ```localhost/api/v1/wallets/```  Список всех кошельков и создание нового
- ```localhost/api/v1/wallet/1/``` Управление кошельком (просмотр, редактирование, удаление)
- ```localhost/api/v1/wallet/1/transactions/``` Проведение транзакции с изменением баланса и список всех транзакций по кошельку
- ```localhost/api/v1/wallet/1/transaction/1/``` Просмотр транзакции и ее удаление с востанавлением баланса на кошельке
- ```localhost/api/v1/transactions/``` Все транзакции пользователя по всем кошелькам

#### 2. ModelViewSet
- ```localhost/api/v2/wallets/``` Список всех кошельков
- ```localhost/api/v2/wallets/1/``` Просмотр, редактирование, удаление кошелька
- ```localhost/api/v2/wallets/1/transactions/``` Все транзакции по кошельку и создания новой
- ```localhost/api/v2/wallets/1/transactions/1/``` Просмотр и удаление транзакции
- ```localhost/api/v2/all/transactions/``` Все транзакции пользователя
- ```localhost/api/v2/all/transactions/1/``` Просмотр и удаление транзакции

## Установка и запуск
1. Клонировать репозиторий
    ```
    git clone https://github.com/cement-hools/wallets_api
    ```
2. Перейдите в директорию wallets_api
    ```
   cd wallets_api
    ```
3. Создать виртуальное окружение и установить зависимости
    ```
   python -m venv venv
    ```
   ```
   venv/Scripts/activate
   ```
   ```
   python -m pip install -U pip
   ```
   ```
   pip install -r requirements.txt
   ```
4. Выполните миграции
   ```
   python manage.py migrate
   ```
5. Запустить приложение на сервере разработчика
   ```
   python manage.py runserver
   ```